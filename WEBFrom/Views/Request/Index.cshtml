@model WEBFrom.Models.EmployeeRequest

@{
    ViewData["Title"] = "Form New Request GD Profile";
}

<style>
    :root {
        --axa-blue: #00008f;
        --axa-brown: #8d6e63;
    }

    body {
        background-color: #f8f9fa;
        font-family: 'Segoe UI', sans-serif;
        height: 100vh;
        overflow: hidden;
    }


    .form-container {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: 900px;
        height: 85vh;
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        display: flex;
        flex-direction: column;
    }


    .form-header {
        background: var(--axa-brown);
        color: white;
        padding: 25px;
        border-radius: 12px 12px 0 0;
        text-align: center;
        flex-shrink: 0;
    }


    .form-container form {
        flex: 1;
        overflow-y: auto;
        padding: 40px;
    }

    .tab-content {
        display: none;
    }

        .tab-content.active {
            display: block;
        }

    .form-label {
        font-weight: 600;
        color: #444;
    }

    .btn-axa {
        background: var(--axa-brown);
        color: white;
        padding: 10px 25px;
        border: none;
        border-radius: 5px;
        font-weight: bold;
    }

    .bintang {
        color: red;
    }


    .form-container form::-webkit-scrollbar {
        width: 8px;
    }

    .form-container form::-webkit-scrollbar-thumb {
        background: rgba(0,0,0,0.2);
        border-radius: 10px;
    }
</style>



<div class="container form-container p-0">
    <div class="form-header">
        <h3 class="mb-0">Form New Request GD Profile</h3>
        <p class="small mb-0 opacity-75">Only For Non FTE / Third Party</p>
    </div>

    <form asp-action="SubmitRequest" method="post">
        @Html.AntiForgeryToken()


        <div class="tab-content active" id="tab1">
            <h5 class="text-muted mb-4">Requestor Data</h5>
            <h6 class="text-muted mb-4">Buddy or Colleague</h6>

            <div class="mb-3">
                <label class="form-label">1. Requestor Email <span class="bintang">*</span></label>
                <input asp-for="RequestorEmail" class="form-control" type="email" data-required="true" />
            </div>

            <div class="mb-3">
                <label class="form-label">2. Reason</label>
                <textarea asp-for="Reason" class="form-control" rows="3"></textarea>
            </div>

            <div class="text-end mt-4">
                <button type="button" class="btn-axa" onclick="validateStep1()">
                    Berikutnya &raquo;
                </button>
            </div>
        </div>


        <div class="tab-content" id="tab2">
            <h5 class="text-muted mb-4">New Employee Data</h5>
            <h6 class="text-muted mb-4">Worker</h6>


            <div class="mb-3">
                <label class="form-label">3. Entity <span class="bintang">*</span> </label>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="Entity"
                           value="PT AXA Investment Managers Select Indonesia" data-required="true" />
                    <label class="form-check-label">PT AXA Investment Managers Select Indonesia</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="Entity"
                           value="PT AXA Financial Indonesia" data-required="true" />
                    <label class="form-check-label">PT AXA Financial Indonesia</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="Entity"
                           value="PT AXA Mandiri Financial Services" data-required="true" />
                    <label class="form-check-label">PT AXA Mandiri Financial Services</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="Entity"
                           value="PT AXA Services Indonesia" data-required="true" />
                    <label class="form-check-label">PT AXA Services Indonesia</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="Entity"
                           value="PT AXA Insurance Indonesia" data-required="true" />
                    <label class="form-check-label">PT AXA Insurance Indonesia</label>
                </div>
            </div>


            <div class="mb-3">
                <label class="form-label">4. Worker Type <span class="bintang">*</span></label>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="WorkerType"
                           value="IMS - Non FTE" data-required="true" />
                    <label class="form-check-label">IMS - Non FTE</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="WorkerType"
                           value="IMS - Temporary" data-required="true" />
                    <label class="form-check-label">IMS - Temporary</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="WorkerType"
                           value="Consultant" data-required="true" />
                    <label class="form-check-label">Consultant</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="WorkerType"
                           value="Vendor" data-required="true" />
                    <label class="form-check-label">Vendor</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="WorkerType"
                           value="Internship" data-required="true" />
                    <label class="form-check-label">Internship</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="WorkerType"
                           value="Others" data-required="true" />
                    <label class="form-check-label">Others</label>
                </div>
                
            </div>


            <div class="mb-3">
                <label class="form-label">5. ID Person YES [Only for IMS - Non FTE]</label>
                <input asp-for="IDPersonYes" class="form-control" />
            </div>

            <div class="mb-3">
                <label class="form-label">6. Personal Title <span class="bintang">*</span></label>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="PersonalTitle"
                           value="Mr" data-required="true" />
                    <label class="form-check-label">Mr</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="PersonalTitle"
                           value="Mrs" data-required="true" />
                    <label class="form-check-label">Mrs</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="PersonalTitle"
                           value="Ms" data-required="true" />
                    <label class="form-check-label">Ms</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="PersonalTitle"
                           value="Miss" data-required="true" />
                    <label class="form-check-label">Miss</label>
                </div>

                

            </div>

            <div class="mb-3"><label class="form-label">7. Full Name (According to KTP)<span class="bintang">*</span></label><input asp-for="FullName" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">8. First Name<span class="bintang">*</span></label><input asp-for="FirstName" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">9. Last Name (Only 1 Syilable)<span class="bintang">*</span></label><input asp-for="LastName" class="form-control" data-required="true" /></div>

            <div class="mb-3">
                <label class="form-label">10. Site Address <span class="bintang">*</span></label>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="PersonalTitle"
                           value="AXA Tower - Jakarta" data-required="true" />
                    <label class="form-check-label">AXA Tower - Jakarta</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="PersonalTitle"
                           value="Branch" data-required="true" />
                    <label class="form-check-label">Branch</label>
                </div>

            </div>

            <div class="mb-3"><label class="form-label">11. City <span class="bintang">*</span></label><input asp-for="City" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">12. Office Floor (Example : 10th Floor) <span class="bintang">*</span></label><input asp-for="OfficeFloor" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">13. Office Phone (Start with +62)<span class="bintang">*</span></label><input asp-for="OfficePhone" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">14. Office Fax (Start with +62)<span class="bintang">*</span></label><input asp-for="OfficeFax" class="form-control" /></div>
            <div class="mb-3"><label class="form-label">15. Mobile Phone No (Start with +62)<span class="bintang">*</span></label><input asp-for="MobilePhone" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">16. Email AXA [firstname.lastname@entity_domain]<span class="bintang">*</span></label><input asp-for="EmailAxa" class="form-control" data-required="true" /></div>

            <div class="mb-3">
                <label class="form-label">17. Profesional Family <span class="bintang">*</span></label>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Administration Health and Safety" data-required="true" />
                    <label class="form-check-label">Administration Health and Safety</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Asset Management" data-required="true" />
                    <label class="form-check-label">Asset Management</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Audit Health and Safety" data-required="true" />
                    <label class="form-check-label">Audit</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Banking" data-required="true" />
                    <label class="form-check-label">Banking</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Big Data Science" data-required="true" />
                    <label class="form-check-label">Big Data Science</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Chief Executive Officer" data-required="true" />
                    <label class="form-check-label">Chief Executive Officer</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Communication and Corporate Responsibility" data-required="true" />
                    <label class="form-check-label">Communication and Corporate Responsibility</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Finance, Control and Strategy" data-required="true" />
                    <label class="form-check-label">Finance, Control and Strategy</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Health" data-required="true" />
                    <label class="form-check-label">Health</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Human Resources and Diversity" data-required="true" />
                    <label class="form-check-label">Human Resources and Diversity</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Information Technology" data-required="true" />
                    <label class="form-check-label">Information Technology</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Insurance, Products and Claims" data-required="true" />
                    <label class="form-check-label">Insurance, Products and Claims</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Legal and Compliance" data-required="true" />
                    <label class="form-check-label">Legal and Compliance</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Life and Saving Insurance" data-required="true" />
                    <label class="form-check-label">Life and Saving Insurance</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Marketing Including Brand and Offer Development" data-required="true" />
                    <label class="form-check-label">Marketing Including Brand and Offer Development</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Operational Excelience" data-required="true" />
                    <label class="form-check-label">Operational Excelience</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Procurement" data-required="true" />
                    <label class="form-check-label">Procurement</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Property & Casual Insurance" data-required="true" />
                    <label class="form-check-label">Property & Casual Insurance</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Reinsurance" data-required="true" />
                    <label class="form-check-label">Reinsurance</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Risk Management" data-required="true" />
                    <label class="form-check-label">Risk Management</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="ProfesionalFamily"
                           value="Sales and Distribution" data-required="true" />
                    <label class="form-check-label">Sales and Distribution</label>
                </div>

               

            </div>
            <div class="mb-3"><label class="form-label">18. Title / Position Name <span class="bintang">*</span></label><input asp-for="TitlePositionName" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">19. Department [Superior's Department]<span class="bintang">*</span></label><input asp-for="Department" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">20. Reporting To [Manager Name]<span class="bintang">*</span></label><input asp-for="ReportingTo" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">21. Contract Start Date<span class="bintang">*</span></label><input asp-for="ContractStartDate" type="date" class="form-control" data-required="true" /></div>
            <div class="mb-3"><label class="form-label">22. Contract / Projected End Date <span class="bintang">*</span></label><input asp-for="ContractEndDate" type="date" class="form-control" data-required="true" /></div>

            <div class="d-flex justify-content-between mt-5">
                <button type="button" class="btn btn-light border" onclick="switchTab('tab1')">
                    &laquo; Kembali
                </button>
                <button type="submit" class="btn-axa">
                    Kirim Formulir ke HR
                </button>
            </div>
        </div>
    </form>
</div>

@section Scripts{
<script>
    function validateStep1() {
        if (!validateTab('tab1')) return;
        switchTab('tab2');
    }

    document.querySelector('form').addEventListener('submit', function (e) {
        if (!validateTab('tab2')) {
            e.preventDefault(); 
        }
    });

    
    function validateTab(tabId) {
        const tab = document.getElementById(tabId);
        const requiredFields = tab.querySelectorAll('[data-required="true"]');


        for (let field of requiredFields) {

            
            if (field.type === "radio") {
                const radios = tab.querySelectorAll(`input[name="${field.name}"]`);
                const checked = Array.from(radios).some(r => r.checked);
                if (!checked) {
                    alert("Mohon lengkapi semua field yang bertanda *");
                    radios[0].focus();
                    return false;
                }
                continue;
            }

            
            if (!field.value || !field.value.trim()) {
                alert("Mohon lengkapi semua field yang bertanda *");
                field.focus();
                return false;
            }

            
            if (field.type === "email") {
                const emailRegex = new RegExp("^[^\\s@@]+@@[^\\s@@]+\\.[^\\s@@]+$");
                if (!emailRegex.test(field.value)) {
                    alert("Format email tidak valid");
                    field.focus();
                    return false;
                }
            }
        }
        return true;
    }

   
    function switchTab(id) {
        document.querySelectorAll('.tab-content')
            .forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0, 0);
    }
</script>
}

    